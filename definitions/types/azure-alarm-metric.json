{
  "$schema": "http://json-schema.org/draft-07/schema",
  "type": "object",
  "title": "Azure Alarm Metric",
  "required": [
    "severity",
    "frequency",
    "window_size",
    "aggregation",
    "operator",
    "threshold"
  ],
  "properties": {
    "severity": {
      "type": "integer",
      "title": "Severity",
      "default": 1,
      "oneOf": [
        {
          "title": "Critical",
          "const": 0
        },
        {
          "title": "Error",
          "const": 1
        },
        {
          "title": "Warning",
          "const": 2
        },
        {
          "title": "Info (double check...)",
          "const": 3
        },
        {
          "title": "Verbose",
          "const": 4
        }
      ]
    },
    "frequency": {
      "type": "string",
      "title": "Frequency",
      "description": "The evaluation frequency of the alarms.",
      "default": "PT1M",
      "oneOf": [
        {
          "title": "Every 1 minute",
          "const": "PT1M"
        },
        {
          "title": "Every 5 minutes",
          "const": "PT5M"
        },
        {
          "title": "Every 15 minutes",
          "const": "PT15M"
        },
        {
          "title": "Every 30 minutes",
          "const": "PT30M"
        },
        {
          "title": "Every 1 hour",
          "const": "PT1H"
        }
      ]
    },
    "window_size": {
      "type": "string",
      "title": "Alarm Window",
      "description": "The time range over which the alarm is evaluated.",
      "default": "PT5M",
      "oneOf": [
        {
          "title": "Every 1 minute",
          "const": "PT1M"
        },
        {
          "title": "Every 5 minutes",
          "const": "PT5M"
        },
        {
          "title": "Every 15 minutes",
          "const": "PT15M"
        },
        {
          "title": "Every 30 minutes",
          "const": "PT30M"
        },
        {
          "title": "Every 1 hour",
          "const": "PT1H"
        },
        {
          "title": "Every 6 hours",
          "const": "PT6H"
        },
        {
          "title": "Every 12 hours",
          "const": "PT12H"
        },
        {
          "title": "Every 24 hours",
          "const": "PT1D"
        }
      ]
    },
    "aggregation": {
      "type": "string",
      "title": "Aggregation",
      "description": "The aggregation type of the alarm.",
      "default": "Average",
      "enum": [
        "Average",
        "Count",
        "Minimum",
        "Maximum",
        "Total"
      ]
    },
    "operator": {
      "type": "string",
      "title": "Operator",
      "description": "The operator used to compare the metric value to the threshold.",
      "default": "GreaterThanOrEqual",
      "oneOf": [
        {
          "title": "Greater than or equal to",
          "const": "GreaterThanOrEqual"
        },
        {
          "title": "Greater than",
          "const": "GreaterThan"
        },
        {
          "title": "Less than or equal to",
          "const": "LessThanOrEqual"
        },
        {
          "title": "Less than",
          "const": "LessThan"
        },
        {
          "title": "Equals",
          "const": "Equals"
        },
        {
          "title": "Not equal to",
          "const": "NotEquals"
        }
      ]
    },
    "threshold": {
      "type": "integer",
      "title": "Threshold",
      "description": "The percentage threshold for the metric to trigger an alarm. For RU consumption, the threshold is the percentage of the current RU consumption. For server latency, the threshold is latency in milliseconds.",
      "minimum": 0
    }
  }
}
