{
    "$md": {
        "containerRepositories": {
            "cloud": "gcp",
            "label": "GAR"
        },
        "export": [],
        "icon": "https://raw.githubusercontent.com/massdriver-cloud/artifact-definitions/refs/heads/main/definitions/artifacts/gcp-service-account/icon.png",
        "importing": {
            "fileUploadType": "json",
            "group": "authentication"
        },
        "label": "GCP Service Account",
        "name": "gcp-service-account",
        "ui": {
            "connectionOrientation": "environmentDefault",
            "environmentDefaultGroup": "credentials",
            "instructions": [
                {
                    "content": "CiMgSW1wb3J0aW5nIHlvdXIgR0NQIHNlcnZpY2UgYWNjb3VudCBmb3IgTWFzc2RyaXZlciB0byBhc3N1bWUKCiMjIFN0ZXAgMQoKIyMjIExvZyBpbiB0byB0aGUgR29vZ2xlIENsb3VkIENvbnNvbGUgYW5kIG5hdmlnYXRlIHRvIHRoZSBJQU0vU2VydmljZSBBY2NvdW50cyBwYWdlCgohW3NlbGVjdC1pYW1dKC9pYW0ucG5nKQoKJm5ic3A7CgojIyBTdGVwIDIKCiMjIyBDbGljayBDcmVhdGUgc2VydmljZSBhY2NvdW50CgohW3NlbGVjdC1pYW1dKC9jcmVhdGUtc2VydmljZS1hY2NvdW50LnBuZykKCiZuYnNwOwoKIyMgU3RlcCAzCgogR2l2ZSB5b3VyIHNlcnZpY2UgYWNjb3VudCBhIG5hbWUsIElELCBhbmQgZGVzY3JpcHRpb24uCgombmJzcDsKCiMjIFN0ZXAgNAoKIyMjIENsaWNrICJDcmVhdGUgYW5kIGNvbnRpbnVlIgoKIVtzYS1kZXRhaWxzXSgvc2EtZGV0YWlscy5wbmcpCgombmJzcDsKCiMjIFN0ZXAgNQoKR2l2ZSB5b3VyIG5ldyBzZXJ2aWNlIGFjY291bnQgb3duZXIgcGVybWlzc2lvbnMgc28gTWFzc2RyaXZlciBjYW4gbWFuYWdlIHlvdXIgaW5mcmFzdHJ1Y3R1cmUuCgombmJzcDsKCiMjIFN0ZXAgNgoKIyMjIENsaWNrIGNvbnRpbnVlCgohW2dyYW50LXJvbGVdKC9ncmFudC1yb2xlLnBuZykKCiZuYnNwOwoKIyMgU3RlcCA3CgojIyMgTGVhdmUgdGhlIGdyYW50IHVzZXJzIHNlY3Rpb24gYmxhbmsuIENsaWNrIGRvbmUKCiFbZ3JhbnQtdXNlcl0oL2dyYW50LXVzZXIucG5nKQoKJm5ic3A7CgojIyBTdGVwIDgKCiMjIyBCYWNrIG9uIHRoZSBzZXJ2aWNlIGFjY291bnQgcGFnZSBjbGljayB0aGUgSUQgb2YgdGhlIG5ld2x5IGNyZWF0ZWQgc2VydmljZSBhY2NvdW50CgohW2RldGFpbHMtc2VsZWN0XSgvZGV0YWlscy1zZWxlY3QucG5nKQoKJm5ic3A7CgojIyBTdGVwIDkKCkNsaWNrIHRoZSBrZXlzIHRhYgoKJm5ic3A7CgojIyBTdGVwIDEwCgojIyMgVXNpbmcgdGhlIGFkZCBrZXkgZHJvcGRvd24sIHNlbGVjdCBDcmVhdGUgbmV3IGtleQoKIVtrZXlzLXBhZ2VdKC9rZXlzLXBhZ2UucG5nKQoKJm5ic3A7CgojIyBTdGVwIDExCgojIyMgU2VsZWN0IEpTT04gYW5kIGNsaWNrIENyZWF0ZQoKIVtleHBvcnQta2V5XSgvZXhwb3J0LWtleS5wbmcpCgombmJzcDsKCiMjIFN0ZXAgMTIKCkluIHRoZSBmb3JtIHRvIHRoZSBsZWZ0LCBnaXZlIHlvdXIgcm9sZSBhIG5hbWUgYW5kIGRyYWcgdGhlIEpTT04gZmlsZSBjcmVhdGVkIGluIHRoZSBwcmV2aW91cyBzdGVwIGludG8gdGhlIGRyb3B6b25lLgoKJm5ic3A7CgojIyBTdGVwIDEzCgpDbGljayAqKkNyZWF0ZSoqIGFuZCBoZWFkIHRvIHRoZSBbcHJvamVjdHMgcGFnZV0oL3Byb2plY3RzKSB0byBzdGFydCBidWlsZGluZyB5b3VyIGluZnJhc3RydWN0dXJlLgo=",
                    "label": "Google Cloud Console"
                },
                {
                    "content": "IyBJbXBvcnRpbmcgeW91ciBHQ1Agc2VydmljZSBhY2NvdW50IGZvciBNYXNzZHJpdmVyIHRvIGFzc3VtZQoKJm5ic3A7CgojIyBTdGVwIDEKClBhc3RlIHRoZSBmb2xsb3dpbmcgY29tbWFuZCBpbiBhIHRlcm1pbmFsIHRvIGNyZWF0ZSBhIHNlcnZpY2UgYWNjb3VudCBmb3IgTWFzc2RyaXZlciB0byB1c2UuCgombmJzcDsKCiMjIFN0ZXAgMgoKUmVwbGFjZSB0aGUgZm9sbG93aW5nIHZhbHVlczoKCiogU0VSVklDRV9BQ0NPVU5UX0lEOiBUaGUgSUQgZm9yIHRoZSBzZXJ2aWNlIGFjY291bnQuCiogREVTQ1JJUFRJT046IE9wdGlvbmFsLiBBIGRlc2NyaXB0aW9uIG9mIHRoZSBzZXJ2aWNlIGFjY291bnQuCiogRElTUExBWV9OQU1FOiBBIHNlcnZpY2UgYWNjb3VudCBuYW1lIHRvIGRpc3BsYXkgaW4gdGhlIENsb3VkIENvbnNvbGUuCgpgYGBiYXNoCiQgZ2Nsb3VkIGlhbSBzZXJ2aWNlLWFjY291bnRzIGNyZWF0ZSBTRVJWSUNFX0FDQ09VTlRfSUQgXAogICAgLS1kZXNjcmlwdGlvbj0iREVTQ1JJUFRJT04iIFwKICAgIC0tZGlzcGxheS1uYW1lPSJESVNQTEFZX05BTUUiCmBgYAoKJm5ic3A7CgojIyBTdGVwIDMKCk1hc3Nkcml2ZXIgbmVlZHMgdGhlIG93bmVyIHJvbGUgaW4gb3JkZXIgdG8gbWFuYWdlIGluZnJhc3RydWN0dXJlIGFuZCBwcm9qZWN0cy4gUGFzdGUgdGhlIGZvbGxvd2luZyBjb21tYW5kIGluIGEgdGVybWluYWwgdG8gYXNzaWduIHRoZSBvd25lciByb2xlIHRvIHRoZSBtYXNzZHJpdmVyIHNlcnZpY2UgYWNjb3VudAoKJm5ic3A7CgojIyBTdGVwIDQKClJlcGxhY2UgdGhlIGZvbGxvd2luZyB2YWx1ZXM6CgoqIFBST0pFQ1RfSUQ6IFRoZSBwcm9qZWN0IGlkLgoqIFNFUlZJQ0VfQUNDT1VOVF9JRDogVGhlIHNlcnZpY2UgYWNjb3VudCBJRC4KCmBgYGJhc2gKZ2Nsb3VkIHByb2plY3RzIGFkZC1pYW0tcG9saWN5LWJpbmRpbmcgUFJPSkVDVF9JRCBcCiAgICAtLW1lbWJlcj0ic2VydmljZUFjY291bnQ6U0VSVklDRV9BQ0NPVU5UX0lEQFBST0pFQ1RfSUQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iIFwKICAgIC0tcm9sZT0icm9sZXMvb3duZXIiCmBgYAoKJm5ic3A7CgojIyBTdGVwIDUKCk1hc3Nkcml2ZXIgbmVlZHMgYSBzZXJ2aWNlIGFjY291bnQga2V5IHRvIGFjY2VzcyB0aGUgR0NQIGFwaS4gVG8gY3JlYXRlIG9uZSBwYXN0ZSB0aGUgZm9sbG93aW5nIGNvbW1hbmQgaW50byBhIHRlcm1pbmFsCgombmJzcDsKCiMjIFN0ZXAgNgoKUmVwbGFjZSB0aGUgZm9sbG93aW5nIHZhbHVlczoKCiogYGtleS1maWxlYDogVGhlIHBhdGggdG8gYSBuZXcgb3V0cHV0IGZpbGUgZm9yIHRoZSBwcml2YXRlIGtleeKAlGZvciBleGFtcGxlLCBgfi9zYS1wcml2YXRlLWtleS5qc29uYC4KKiBgc2EtbmFtZWA6IFRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIGFjY291bnQgdG8gY3JlYXRlIGEga2V5IGZvci4KKiBgcHJvamVjdC1pZGA6IFlvdXIgR29vZ2xlIENsb3VkIHByb2plY3QgSUQuCgpgYGBiYXNoCmdjbG91ZCBpYW0gc2VydmljZS1hY2NvdW50cyBrZXlzIGNyZWF0ZSBrZXktZmlsZSBcCiAgICAtLWlhbS1hY2NvdW50PXNhLW5hbWVAcHJvamVjdC1pZC5pYW0uZ3NlcnZpY2VhY2NvdW50LmNvbQpgYGAKCiZuYnNwOwoKIyMgU3RlcCA3CgpJbiB0aGUgZm9ybSBvbiB0aGUgbGVmdCBnaXZlIHlvdXIgc2VydmljZSBhY2NvdW50IGEgZnJpZW5kbHkgbmFtZSBmb3IgTWFzc2RyaXZlci4KCiZuYnNwOwoKIyMgU3RlcCA4CgpEcmFnIHRoZSBgLmpzb25gIGZpbGUgY3JlYXRlZCBpbiB0aGUgYWJvdmUgY29tbWFuZCBpbiB0byB0aGUgZHJhZyBuJyBkcm9wIHRhcmdldCBvbiB0aGUgZm9ybS4KCiZuYnNwOwoKIyMgU3RlcCA5CgpDbGljayAqKkNyZWF0ZSoqIGFuZCBoZWFkIHRvIHRoZSBbcHJvamVjdHMgcGFnZV0oL3Byb2plY3RzKSB0byBzdGFydCBidWlsZGluZyB5b3VyIGluZnJhc3RydWN0dXJlLgo=",
                    "label": "Google Cloud CLI"
                }
            ]
        }
    },
    "$schema": "http://json-schema.org/draft-07/schema",
    "description": "GCP Service Account",
    "properties": {
        "data": {
            "properties": {
                "auth_provider_x509_cert_url": {
                    "$schema": "http://json-schema.org/draft-07/schema",
                    "default": "https://www.googleapis.com/oauth2/v1/certs",
                    "description": "Auth Provider x509 Certificate URL",
                    "examples": [
                        "https://example.com/some/path",
                        "https://massdriver.cloud"
                    ],
                    "pattern": "^https://.*$",
                    "title": "Auth Provider x509 Certificate URL",
                    "type": "string"
                },
                "auth_uri": {
                    "$schema": "http://json-schema.org/draft-07/schema",
                    "default": "https://accounts.google.com/o/oauth2/auth",
                    "description": "Auth URI",
                    "examples": [
                        "https://example.com/some/path",
                        "https://massdriver.cloud"
                    ],
                    "pattern": "^https://.*$",
                    "title": "Auth URI",
                    "type": "string"
                },
                "client_email": {
                    "$schema": "http://json-schema.org/draft-07/schema",
                    "description": "Service Account Email",
                    "examples": [
                        "jimmy@massdriver.cloud",
                        "service-account-y@gmail.com"
                    ],
                    "format": "email",
                    "title": "Client e-mail",
                    "type": "string"
                },
                "client_id": {
                    "description": "",
                    "title": "Client ID",
                    "type": "string"
                },
                "client_x509_cert_url": {
                    "$schema": "http://json-schema.org/draft-07/schema",
                    "description": "Client x509 Certificate URL",
                    "examples": [
                        "https://example.com/some/path",
                        "https://massdriver.cloud"
                    ],
                    "pattern": "^https://.*$",
                    "title": "Client x509 Certificate URL",
                    "type": "string"
                },
                "private_key": {
                    "$md.sensitive": true,
                    "description": "",
                    "title": "Private Key",
                    "type": "string"
                },
                "private_key_id": {
                    "description": "",
                    "title": "Private Key ID",
                    "type": "string"
                },
                "project_id": {
                    "description": "",
                    "title": "Project ID",
                    "type": "string"
                },
                "token_uri": {
                    "$schema": "http://json-schema.org/draft-07/schema",
                    "default": "https://oauth2.googleapis.com/token",
                    "description": "Token URI",
                    "examples": [
                        "https://example.com/some/path",
                        "https://massdriver.cloud"
                    ],
                    "pattern": "^https://.*$",
                    "title": "Token URI",
                    "type": "string"
                },
                "type": {
                    "default": "service_account",
                    "description": "",
                    "title": "Type",
                    "type": "string"
                }
            },
            "required": [
                "auth_provider_x509_cert_url",
                "auth_uri",
                "client_email",
                "client_id",
                "client_x509_cert_url",
                "private_key",
                "private_key_id",
                "project_id",
                "token_uri",
                "type"
            ],
            "title": "Artifact Data",
            "type": "object"
        },
        "specs": {
            "properties": {
                "gcp": {
                    "$schema": "http://json-schema.org/draft-07/schema",
                    "description": "",
                    "properties": {
                        "project": {
                            "title": "GCP Project",
                            "type": "string"
                        },
                        "region": {
                            "$schema": "http://json-schema.org/draft-07/schema",
                            "description": "The GCP region to provision resources in.",
                            "examples": [
                                "us-east1",
                                "us-east4",
                                "us-west1",
                                "us-west2",
                                "us-west3",
                                "us-west4",
                                "us-central1"
                            ],
                            "title": "Region",
                            "type": "string"
                        }
                    },
                    "required": [],
                    "title": "GCP Artifact Specs",
                    "type": "object"
                }
            },
            "title": "Artifact Specs",
            "type": "object"
        }
    },
    "required": [
        "data",
        "specs"
    ],
    "title": "GCP Service Account",
    "type": "object"
}
